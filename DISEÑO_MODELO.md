# Diseño del Modelo de Datos para el Sistema Académico

Este documento resume las decisiones clave tomadas al diseñar el modelo de base de datos relacional para el proyecto del Sistema Académico, basándose en los requisitos del archivo `PROYECTO.md`.

## 1. Normalización y Entidades

El modelo se ha diseñado siguiendo los principios de la normalización (hasta 3FN) para minimizar la redundancia y mejorar la integridad de los datos.

-   **Entidades Principales**: Se identificaron las entidades centrales del sistema: `Estudiante`, `Docente`, `Programa`, `Asignatura`, `Grupo`, `Matricula` y `Calificacion`. Cada una representa un concepto único y bien definido del minimundo.
-   **Entidades de Catálogo**: Se crearon tablas de catálogo para gestionar valores discretos y recurrentes, como `Facultad`, `Sede`, `Periodo`, `RiesgoAcademico`, `TipoAsignatura` y `Horario`. Esto centraliza la gestión de estos datos y facilita su mantenimiento, además de garantizar la consistencia mediante claves foráneas. Por ejemplo, en lugar de usar un `VARCHAR2` para el riesgo académico en la tabla `Estudiante`, se usa una clave foránea a la tabla `RiesgoAcademico`.

## 2. Manejo de Relaciones

Las relaciones entre entidades se modelaron de la siguiente manera:

-   **Relaciones Uno a Muchos (1:N)**: Se implementaron mediante una clave foránea en la tabla del lado "muchos". Por ejemplo, un `Programa` tiene muchos `Estudiante`s, por lo que `Estudiante` tiene una `id_programa` que apunta a `Programa`.
-   **Relaciones Muchos a Muchos (N:M)**: Se crearon tablas de unión (o intermedias) para resolver estas relaciones.
    -   `Grupo_Docente`: Asocia `Docente`s con `Grupo`s, permitiendo que un docente dicte varias materias y que una materia (en un grupo) pueda ser dictada por varios docentes.
    -   `Grupo_Horario`: Asigna múltiples bloques de `Horario` a un `Grupo`.
    -   `Prerrequisito`: Modela la relación N:M de una `Asignatura` consigo misma, donde una asignatura puede tener varios prerrequisitos y, a su vez, ser prerrequisito de varias otras.
    -   `Matricula_Asignatura`: Es una tabla de unión clave que conecta la `Matricula` de un estudiante con los `Grupo`s que inscribe. Se enriquece con atributos propios como `nota_definitiva` y `estado`, convirtiéndola en una entidad asociativa.

## 3. Integridad de Datos y Lógica de Negocio

Se utilizaron varias características de Oracle para asegurar la integridad de los datos y aplicar reglas de negocio directamente en la base de datos:

-   **Claves Primarias**: Se usaron columnas `NUMBER GENERATED BY DEFAULT AS IDENTITY` como claves primarias para la mayoría de las tablas, lo que simplifica la inserción y garantiza identificadores únicos.
-   **Claves Foráneas**: Se definieron relaciones explícitas con `FOREIGN KEY` para mantener la integridad referencial. Se utilizó `ON DELETE CASCADE` en relaciones de composición fuerte (ej. `InfoAcademicaDocente` depende de `Docente`), para que al borrar el padre se borren los hijos.
-   **Restricciones `UNIQUE`**: Se aplicaron para garantizar que ciertos valores no se repitan, como el `codigo_matricula` del estudiante o el `nombre` de un `Periodo`.
-   **Restricciones `CHECK`**: Se usaron para implementar reglas de negocio a nivel de columna o tabla. Por ejemplo:
    -   `chk_calif_nota CHECK (nota BETWEEN 0.0 AND 5.0)` en `Calificacion` para validar el rango de notas.
    -   `chk_riesgo_creditos CHECK (max_creditos BETWEEN 0 AND 21)` en `RiesgoAcademico` para limitar los créditos permitidos.
    -   `chk_prereq_diferentes CHECK (id_asignatura_origen <> id_asignatura_prerreq)` para evitar que una asignatura sea prerrequisito de sí misma.

## 4. Diseño Orientado a los Requisitos

El modelo fue diseñado para dar soporte directo a los requisitos funcionales y de negocio:

-   **Gestión de Matrículas y Riesgo**: La tabla `Estudiante` tiene una referencia a `RiesgoAcademico`, y esta última almacena el `max_creditos`. Esto permite que un *trigger* (a implementar) pueda consultar fácilmente esta información al momento de validar una inscripción en `Matricula_Asignatura`.
-   **Horarios y Cupos**: La separación de `Grupo`, `Salon` y `Horario` permite gestionar choques de horario y validar la capacidad (`cupo_maximo` en `Grupo` vs. `capacidad` en `Salon`).
-   **Calificaciones y Evaluación**: La estructura `Grupo` -> `ItemEvaluacion` -> `Calificacion` permite definir ítems de evaluación (parciales, talleres) con sus porcentajes para cada grupo. Un *trigger* sobre `ItemEvaluacion` podrá verificar que la suma de porcentajes sea 100%.
-   **Carga Docente**: Las `horas_semanales` en `Asignatura` y la relación `Grupo_Docente` permiten calcular la carga horaria de un profesor en un periodo determinado, lo que facilita la implementación de la validación de 8-16 horas.
-   **Integración con NoSQL**: El modelo relacional contiene todos los identificadores necesarios (`id_estudiante`, `id_grupo` que implica `id_asignatura`, `id_periodo`) para enlazar los comentarios de la base de datos NoSQL con el contexto académico correspondiente.
